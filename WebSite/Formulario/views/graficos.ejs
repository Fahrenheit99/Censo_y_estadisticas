<!DOCTYPE html>

<html>

<head>
    <meta charset='utf-8' />
    <title>UNED - Mapas de Distribución de Ocurrencias</title>
    <!-- INCLUDE DE LA FUENTE ROBOTO -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <!-- Including UNED STANDARD -->
    <link href="https://www.uned.ac.cr/menu/style_menu.css" rel="stylesheet" type="text/css" />
    <%- include('./headerTemplate.html'); -%>
    <!-- Including UNED STANDARD  -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="/../contenido/static/js/jquery-3.4.1.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/../contenido/static/css/bootstrap.css" />
    <!-- include del javascript -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <!-- INCLUDE PARA COLLAPSE -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

    <!--AJAX AND JQUERY-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/../contenido/static/js/consultorGraficos.js"></script>
    <!--Para hacer el mapa desde ambiente local-->
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />
    <!--Estilos y javascript-->
    <link href="/../css/style.css" rel="stylesheet" type="text/css">
    <!--INCLUDE PARA EL MAPA-->
    <link href="/../css/mapLocal.css" rel="stylesheet" type="text/css">
    <script src="/../contenido/static/js/consultorMapas.js"></script>
    <!--INCLUDES PARA LOS GRÁFICOS-->
    <!--Include de gráficos de pie-->
    <link href="/../css/graficos.css" rel="stylesheet" type="text/css">
    <!-- INCLUDE DE CHART JS LIBRERIA PARA GRAFICOS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script> -->
    <!-- Se supone que este include de arriba es para representar porcentajes sobre los gráficos
        para una descarga más completa, pero no funciona, queda pendiente -->
    <!--INCLUDE PARA PALETA DE COLORES EN GRÁFICOS-->
    <script type="text/javascript" src="/../contenido/static/js/Chart.js"></script>
    <script type="text/javascript" src="/../contenido/static/js/chartjs-plugin-colorschemes.js"></script>
    <!--INCLUDE PARA LOS WORD CLOUDS-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
    <script src="/../contenido/static/js/cloud.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
    <!--INCLUDE PARA LOS GRÁFICOS DE MANERA LOCAL-->
    <script src="/../contenido/static/js/DeclaracionDeGraficos.js" type="text/javascript"> </script>
    <!-- PARA WORD CLOUDS DE MANERA LOCAL -->
    <!-- <script src="https://d3js.org/d3.v3.min.js"></script> -->
    <script type="text/javascript" src="/../contenido/static/js/ConstructorWordClouds.js"></script>
    <script type="text/javascript" src="/../contenido/static/js/svgAPng.js"></script>
    <!-- PARA DESCARGAR LOS WORDCLOUDS -->
    <script src="https://d3js.org/d3-selection.v1.min.js"></script>
    <!-- <script src="~/Scripts/FileSaver.min.js"></script> -->
    <script
        src="https://cdn.rawgit.com/eligrey/canvas-toBlob.js/f1a01896135ab378aa5c0118eadd81da55e698d8/canvas-toBlob.js"></script>
    <script
        src="https://cdn.rawgit.com/eligrey/FileSaver.js/e9d941381475b5df8b7d7691013401e171014e89/FileSaver.min.js"></script>



</head>

<br><br><br><br><br><br>

<body>



    <form action="/Inicio" method="GET">
        <div style="width: 100%; display: flex; justify-content: center;">
            <button type="submit" id="enviar" class="btn btn-link">Inicio</button>
        </div>
    </form>
    <div id="filterObtion">
        <h2 class="titleTex">Seleccione los filtros</h2>
        <h3>Los gráficos se actualizarán y desplegarán en cuanto aplique los filtros que desee.</h3>
        <div id="accordion">
            <div style="margin-left: 2%;">
                <div id="headingOne">
                    <h5 class="mb-0">
                        <button class="btn btn-primary" data-toggle="collapse" data-target="#collapseOne"
                            aria-expanded="false" aria-controls="collapseOne">
                            Mostrar Enfermedades
                        </button>
                    </h5>
                </div>

                <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                    <div class="card-body">
                        <ul id="lista" style="column-count: 3;">
                            <% graphData.forEach(function(element,index){ %>
                            <input type="checkbox" id="<%=element['idrespuesta']%>" value="<%=element['descripcion'] %>"
                                name="filtroEnfermedad">
                            <label style="font-weight: 700 !important; font-size: 12px !important"
                                for="<%=element['descripcion'] %>"> <%=element['descripcion'] %> </label><br>
                            <%}) %>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <br/>
        <button style="margin: 2%;" class="btn btn-success" id="getColInfo">Aplicar filtros</button>
    </div>

    <!-- <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#mapa">Mostrar/Ocultar Mapa</button> -->
    <div>
        <!-- <button style="margin: 2%;" class="btn btn-primary" onclick="mostrarMapa()" id="mostrarMapa">Mostrar Mapa</button> -->
    </div>
    <div>
        <button style="margin: 2%;" class="btn btn-primary" onclick="mostrarGraficos()" id="mostrarGraficos">Mostrar Gráficos</button> 
    </div>
    
    <div>
        <section class="map-section" id="mapa">
            <h2 class="titleTex"> Mapa de distribución y proporciones </h2>
            <div id='map'> </div>
            <script src="/../contenido/static/js/declaracionDeObjetoMapa.js" type="text/javascript"> </script>
            <script src="/../contenido/static/js/interaccionDeMapa.js" type="text/javascript"> </script>
        </section>
    </div>

    <div id="multipleGraphContainer" style="display: none;" class="multipleGraphContainer">
        <h2 class="titleTex">Gráficos</h2>
        <br><br><br>
        <!-- <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#graficosNumerales">Mostrar/Ocultar Graficos</button> -->
        <div id="graficosNumerales"></div>
        <!-- <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#graficosNoNumerales">Mostrar/Ocultar Nube de Palabras</button> -->
        <div id="graficosNoNumerales"></div>
    </div>


</body>


<!-- INCLUDING UNED FOOTER -->
<br><br><br><br><br><br>
<div class="finalSection">
    <footer>
        <link rel="stylesheet" href="/../css/footerTemplateStyle.css" />
        <%- include ('./footer.html'); -%>
    </footer>
</div>

<!-- INCLUDING UNED FOOTER -->


</html>